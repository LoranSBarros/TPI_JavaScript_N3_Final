<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <title>Cadastro de Fornecedores</title>
    <link rel="stylesheet" href="styles.css">
    <script>
        const cidadesPorEstado = {
            sp: ["São Paulo", "Campinas", "Santos", "Sorocaba", "Ribeirão Preto"],
            rj: ["Rio de Janeiro", "Niterói", "Petrópolis", "Cabo Frio", "Volta Redonda"],
            mg: ["Belo Horizonte", "Uberlândia", "Juiz de Fora", "Contagem", "Betim"]
        };

        function atualizarCidades() {
            const estado = document.getElementById("estado").value;
            const cidadeSelect = document.getElementById("cidade");

            cidadeSelect.innerHTML = "<option value=''>Selecione...</option>";
            if (estado) {
                cidadesPorEstado[estado].forEach(cidade => {
                    const option = document.createElement("option");
                    option.value = cidade;
                    option.textContent = cidade;
                    cidadeSelect.appendChild(option);
                });
            }
        }

        function mascaraTelefone(input) {
            let telefone = input.value.replace(/\D/g, ""); // Remove caracteres não numéricos
            telefone = telefone.replace(/(\d{2})(\d)/, "($1) $2"); // Adiciona o primeiro parêntese e o espaço
            telefone = telefone.replace(/(\d{1})(\d{4})(\d{4})$/, "$1 $2-$3"); // Adiciona o hífen
            input.value = telefone;
        }

        function validarFormulario(event) {
            event.preventDefault();

            const nome = document.getElementById("nomeFornecedor").value.trim();
            const email = document.getElementById("email").value.trim();
            const estado = document.getElementById("estado").value;

            if (nome.split(" ").length < 2) {
                alert("O nome do fornecedor deve conter pelo menos duas palavras.");
                return false;
            }

            if (!email.includes("@") || !email.split("@")[1].includes(".")) {
                alert("Por favor, insira um e-mail válido.");
                return false;
            }

            if (!estado) {
                alert("Por favor, selecione o estado.");
                return false;
            }
            alert("Cadastrado realizado com sucesso. Entraremos em contato em breve.");

            document.getElementById("formCadastroFornecedor").reset();
        }
    </script>
</head>
<body>
    <nav style="background-color: #0337e4; color: #fff; padding: 10px; text-align: center;">
        <a href="loja_de_instrumentos.html" style="color: #fff; text-decoration: none; font-size: 18px;">Início</a>
    </nav>

    <main style="padding: 20px; font-family: Arial, sans-serif;">
        <h1>Cadastro de Fornecedores</h1>
        <form id="formCadastroFornecedor" onsubmit="validarFormulario(event)">
            <label for="nomeFornecedor">Nome do Fornecedor:</label>
            <input type="text" id="nomeFornecedor" required style="width: 100%; padding: 8px; margin: 10px 0;"><br>

            <label for="email">E-mail:</label>
            <input type="email" id="email" required style="width: 100%; padding: 8px; margin: 10px 0;"><br>

            <label for="telefone">Telefone:</label>
            <input type="text" id="telefone" placeholder="(00) 0 0000-0000" maxlength="15" oninput="mascaraTelefone(this)" required style="width: 100%; padding: 8px; margin: 10px 0;"><br>

            <label for="estado">Estado:</label>
            <select id="estado" onchange="atualizarCidades()" required style="width: 100%; padding: 8px; margin: 10px 0;">
                <option value="">Selecione...</option>
                <option value="sp">São Paulo</option>
                <option value="rj">Rio de Janeiro</option>
                <option value="mg">Minas Gerais</option>
            </select><br>

            <label for="cidade">Cidade:</label>
            <select id="cidade" required style="width: 100%; padding: 8px; margin: 10px 0;">
                <option value="">Selecione um estado primeiro...</option>
            </select><br>

            <button type="submit" style="background-color: #010264; color: #fff; padding: 10px 20px; border: none; cursor: pointer;">Cadastrar Fornecedor</button>
        </form>
    </main>
</body>
</html>
